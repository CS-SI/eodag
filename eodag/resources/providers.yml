USGS:
  priority: 0
  api:
    plugin: UsgsApi
    google_base_url: 'http://storage.googleapis.com/earthengine-public/landsat/'
  products:
    L8_LC8:
      product_type: LANDSAT_8_C1

AmazonWS:
  priority: 0
  search:
    plugin: AwsSearch
    api_endpoint: 'http://finder.eocloud.eu/resto/api/'
  products:
    S2_MSI_L1C:
      product_type: L1C
      collection: Sentinel2
  download:
    plugin: AwsDownload
    associated_bucket: 'sentinel-s2-l1c'
  auth:
    plugin: OAuth

eocloud:
  priority: 1
  products:
    S1_OCN:
      product_type: OCN
      collection: Sentinel1
      partial: true
    S1_GRD:
      product_type: GRD
      collection: Sentinel1
      partial: true
    S1_SLC:
      product_type: SLC
      collection: Sentinel1
      partial: true
    S1_RAW:
      product_type: RAW
      collection: Sentinel1
      partial: true
    S2_MSI_L1C:
      product_type: L1C
      collection: Sentinel2
      partial: true
    L8_L1T:
      product_type: L1T
      collection: Landsat8
    L8_L1GT:
      product_type: L1GT
      collection: Landsat8
    L7_L1G:
      product_type: L1G
      collection: Landsat7
    L7_L1T:
      product_type: L1T
      collection: Landsat7
    L7_L1GT:
      product_type: L1GT
      collection: Landsat7
    L5_L1G:
      product_type: L1G
      collection: Landsat5
    L5_L1GT:
      product_type: L1GT
      collection: Landsat5
    L5_L1T:
      product_type: L1T
      collection: Landsat5
    ES_FRS:
      product_type: FRS
      collection: Envisat
    S3_EFR:
      product_type: EFR
      collection: Sentinel3
    S3_ERR:
      product_type: ERR
      collection: Sentinel3
    S3_RBT:
      product_type: RBT
      collection: Sentinel3
    S3_SRA:
      product_type: SRA
      collection: Sentinel3
    S3_WAT:
      product_type: WAT
      collection: Sentinel3
    S3_LAN:
      product_type: LAN
      collection: Sentinel3
    S3_LST:
      product_type: LST
      collection: Sentinel3
  search:
    plugin: RestoSearch
    api_endpoint: 'http://finder.eocloud.eu/resto/api/'
    product_location_scheme: 'file'
  download:
    plugin: HTTPDownload
    base_uri: 'https://static.eocloud.eu/v1/AUTH_8f07679eeb0a43b19b33669a4c888c45/eorepo'
  auth:
    plugin: TokenAuth
    auth_uri: 'https://finder.eocloud.eu/resto/api/authidentity'
    token_type: json

theia-landsat:
  priority: 0
  products:
    LS_REFLECTANCE:
      collection: Landsat
      product_type: REFLECTANCE
    LS_REFLECTANCETOA:
      collection: Landsat
      product_type: REFLECTANCETOA
    PLD_REFLECTANCE:
      collection: Pleiades
      product_type: REFLECTANCE
    PLD_REFLECTANCETOA:
      collection: Pleiades
      product_type: REFLECTANCETOA
  search:
    plugin: RestoSearch
    api_endpoint: 'https://theia-landsat.cnes.fr/resto/api/'
  download:
    plugin: HTTPDownload
    base_uri: 'https://theia.cnes.fr/atdistrib/resto2'
  auth:
    plugin: TokenAuth
    auth_uri: 'https://theia.cnes.fr/atdistrib/services/authenticate/'

theia:
  priority: 0
  search:
    plugin: RestoSearch
    api_endpoint: 'https://theia.cnes.fr/atdistrib/resto2/api'
  products:
    S2_REFLECTANCE:
      product_type: REFLECTANCE
      collection: SENTINEL2
  download:
    plugin: HTTPDownload
    base_uri: 'https://theia.cnes.fr/atdistrib/resto2'
    dl_url_params:
      issuerId: theia
  auth:
    plugin: TokenAuth
    auth_uri: 'https://theia.cnes.fr/atdistrib/services/authenticate/'

peps:
  priority: 0
  search:
    plugin: RestoSearch
    api_endpoint: 'https://peps.cnes.fr/resto/api'
  products:
    S1_OCN:
      product_type: OCN
      collection: S1
    S1_GRD:
      product_type: GRD
      collection: S1
    S1_SLC:
      product_type: SLC
      collection: S1
    S2_MSI_L1C:
      collection: S2
      product_type: S2MSI1C
    S3_EFR:
      product_type: OL_1_EFR___
      collection: S3
    S3_ERR:
      product_type: OL_1_ERR___
      collection: S3
    S3_LFR:
      product_type: OL_2_LFR___
      collection: S3
    S3_LRR:
      product_type: OL_2_LRR___
      collection: S3
    S3_RBT:
      product_type: SL_1_RBT___
      collection: S3
    S3_LST:
      product_type: SL_2_LST___
      collection: S3
    S3_LAN:
      product_type: SR_2_LAN___
      collection: S3
  download:
    plugin: HTTPDownload
    base_uri: 'https://peps.cnes.fr/resto'
    dl_url_params:
      issuerId: peps
  auth:
    plugin: GenericAuth
    auth_uri: 'https://peps.cnes.fr/resto/api/users/connect'

scihub:
  priority: 0
  products: {}
  api:
    plugin: SentinelsatAPI
    endpoint: 'https://scihub.copernicus.eu/apihub/'

geostorm-ce:
  priority: 0
  products: {}
  search:
    plugin: CSWSearch
    api_endpoint: 'http://geostorm-ce/rest/catalog/csw/'
    search_definitions:
      # A regex that will be parsed to decide which reference to consider as download url
      resource_location_filter: '^https?'   # match the first resource reference that starts with http or https
      pt_tags:
        # name can be any xml tag of the catalogue that can be queryable (WARNING: the verification of query-ability is not done)
        # matching can be one of:
          # exact: exact match of the query (e.g. L1C)
          # prefix: fuzzy match with the query as a prefix (e.g. L1C*)
          # postfix: fuzzy match with the query as a suffix (e.g. *L1C)
          # fuzzy: pre- and post-fix fuzzy match (e.g. *L1C*)
          # if nothing is given, fuzzy matching is assumed
        - name: 'dc:title'
        - name: 'dc:subject'
          matching: exact
      date_tags:
        start: 'apiso:TempExtent_begin'
        end: 'apiso:TempExtent_end'
  download:
    plugin: HTTPDownload
    base_uri: ''    # no need for such a thing !
  auth:
    plugin: GenericAuth
