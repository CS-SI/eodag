airbus-ds:
  priority: 1
  products:
    S2_MSI_L1C:
      product_type: S2MSI1C
    S1_RAW:
      product_type: RAW
    S1_GRD:
      product_type: GRD
    S1_SLC:
      product_type: SLC
    S1_OCN:
      product_type: OCN
    S3_LAN:
      product_type: SR_2_LAN___
    S3_SRA:
      product_type: SR_1_SRA___
    S3_SRA_BS:
      product_type: SR_1_SRA_BS
    S3_SRA_A_BS:
      product_type: SR_1_SRA_A_
  search:
    plugin: ArlasSearch
    api_endpoint: 'https://k8s.qualif.geohub.space/api/v1/services/explore'
    arlas_collection: catalog
    metadata_mapping:
      id: '$.properties.uid'
      geometry:
        - gintersect
        - '$.geometry'
      productType:
        - 'identification.type'
        - '$.properties.identification.type'
      platform: '$.properties.acquisition.mission'
      platformSerialIdentifier: '$.properties.acquisition.missionCode'
      instrument: '$.properties.acquisition.sensorId'
      processingLevel: '$.properties.production.levelCode'
      title: '$.properties.identification.externalId'
      orbitNumber: '$.properties.orbit.number'
      orbitDirection: '$.properties.orbit.direction'
      cloudCover:
        - 'contentDesctiption.cloudCoverPercentage'
        - '$.properties.contentDescription.cloudCoverPercentage'
      startTimeFromAscendingNode:
        - 'acquisition.beginViewingDate'
        - '$.properties.acquisition.beginViewingDate'
      completionTimeFromAscendingNode: '$.properties.acquisition.endViewingDate'
  download:
    plugin: HTTPDownload
    base_uri: 'https://k8s.qualif.geohub.space/api/v1/services/download/'
    archive_depth: 2
  auth:
    plugin: HTTPHeaderAuth
    headers:
      Authorization: "Apikey {apikey}"
